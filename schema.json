{"openapi":"3.0.0","info":{"title":"BIT API","version":"1.0.0"},"servers":[{"url":"/api/v1"}],"components":{"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}},"entities":{"User":{"required":["id","role","created_at"],"properties":{"id":{"type":"string"},"email":{"type":"string"},"tg_id":{"type":"string"},"name":{"type":"string"},"avatar":{"type":"string"},"role":{"type":"string","enum":["ADMIN","USER"]},"created_at":{"type":"string","format":"date"}}},"Transaction":{"required":["id","provider","amount","currency","status","type","created_at"],"properties":{"id":{"type":"string"},"provider":{"type":"string","enum":["YOOMONEY","CRYPTO","SYSTEM"]},"currency":{"type":"string","enum":["RUB","USD","EUR","SYSTEM_TOKEN"]},"meta":{"type":"object"},"amount":{"type":"number"},"status":{"type":"string","enum":["FAILED","SUCCEDED","PENDING"]},"type":{"type":"string","enum":["SUBSCRIPTION","WRITE_OFF","REPLENISH","WITHDRAW"]},"plan_id":{"type":"string"},"user_id":{"type":"string"},"referral_id":{"type":"string"},"external_id":{"type":"string"},"created_at":{"type":"string","format":"date"}}}}},"paths":{"/user/list":{"get":{"tags":["User"],"produces":["application/json"],"parameters":[{"name":"page","in":"query","type":"number"},{"name":"search","in":"query","type":"string"},{"name":"orderBy","schema":{"type":"string","enum":["tokens:asc","tokens:desc"]},"in":"query","type":"string"}],"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"data":{"type":"array","items":{"$ref":"#/components/entities/User"}},"pages":{"type":"number"}}}}}}}}},"/user/{id}/transactions":{"get":{"tags":["Transaction"],"description":"Last 24h transactions","produces":["application/json"],"parameters":[{"name":"id","in":"path","required":true,"type":"string"}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/entities/Transaction"}}}}}}}}},"tags":[]}
